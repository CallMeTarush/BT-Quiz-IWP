'use strict';

function ErrorSender(response, error) {
  var _this = this;

  this.sendForbidden = function () {
    var errorObject = _this.getErrorObject();
    errorObject.status = 403;

    response.status(403).send({
      errors: [errorObject]
    });
  };

  this.getErrorObject = function () {
    if (typeof error === 'string') {
      return {
        detail: error
      };
    }

    return {
      detail: error.message
    };
  };
}

module.exports = ErrorSender;